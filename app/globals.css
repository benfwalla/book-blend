@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --radius: 8px;
}

html, body {
  height: 100%;
}

body {
  /* Warm parchment background */
  background-color: #ffdea8;
  /* Subtle paper grain: PNG overlay ~80% strength via gradient attenuator */
  background-image:
    linear-gradient(rgba(255,255,255,0.2), rgba(255,255,255,0.2)),
    url('/img/billie-holiday.png');
  background-repeat: no-repeat, repeat;
  background-position: 0 0, 0 0;
  background-size: 100% 100%, 240px 240px; /* gradient covers screen; image tiles */
  background-blend-mode: normal, multiply;
}

/* Floating books animations */
@keyframes book-fall {
  0% { transform: translate3d(var(--x, 0), -12vh, var(--z, 0)) rotateX(var(--rx, 0)) rotateY(var(--ry, 0)) rotateZ(var(--rz, 0)) scale(var(--scale, 1)); opacity: 0; }
  5% { opacity: var(--alpha, 0.12); }
  100% { transform: translate3d(var(--x, 0), 112vh, var(--z, 0)) rotateX(var(--rx, 0)) rotateY(var(--ry, 0)) rotateZ(var(--rz, 0)) scale(var(--scale, 1)); opacity: 0; }
}

@keyframes book-sway {
  0% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  100% { transform: translateX(-6px); }
}

.floating-books-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

.floating-book {
  position: absolute;
  will-change: transform, opacity;
  animation-name: book-fall;
  animation-duration: var(--dur, 30s);
  animation-delay: var(--delay, 0s);
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  opacity: var(--alpha, 0.12);
  filter: drop-shadow(0 6px 8px rgba(0,0,0,0.09));
}

.floating-book-inner {
  display: inline-block;
  transform-style: preserve-3d;
  perspective: 800px; /* enhance 3D perception */
  animation: book-sway var(--swayDur, 6s) ease-in-out infinite;
}

.floating-book-img {
  display: block;
  width: var(--w, 56px);
  height: auto;
  border-radius: 0 10px 10px 0; /* right corners rounded, left spine flat */
  background: #fff;
}

/* Add a subtle spine on the left edge */
.floating-book-spine::before {
  content: "";
  position: absolute;
  left: -6px;
  top: 4%;
  height: 92%;
  width: 6px;
  border-radius: 3px 0 0 3px;
  background: linear-gradient(90deg, rgba(0,0,0,0.2), rgba(255,255,255,0.1));
  box-shadow: inset -2px 0 2px rgba(0,0,0,0.05);
}
